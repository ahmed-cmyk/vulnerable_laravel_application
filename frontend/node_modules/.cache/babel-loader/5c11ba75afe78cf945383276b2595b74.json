{"ast":null,"code":"import EditBlogView from './EditBlogView.vue';\nexport default {\n  data() {\n    return {\n      id: this.$route.params.id,\n      editMode: false\n    };\n  },\n\n  computed: {\n    blog() {\n      return this.$store.getters.getBlogById(this.id)[0];\n    },\n\n    token() {\n      return this.$store.state.user.token;\n    }\n\n  },\n\n  created() {\n    this.$store.dispatch(\"checkLocalStorage\");\n    this.$store.dispatch(\"getBlogs\", this.token);\n  },\n\n  methods: {\n    toggleEdit() {\n      this.editMode = !this.editMode;\n    },\n\n    async deleteBlog() {\n      const status = await this.$store.dispatch('deleteBlog', {\n        id: this.id,\n        token: this.token\n      });\n      console.log(status);\n\n      if (status === 200) {\n        this.$store.dispatch('setMessage', 'Blog deleted successfully');\n        this.$router.push({\n          name: 'home'\n        });\n      }\n    }\n\n  },\n  components: {\n    EditBlogView\n  }\n};","map":{"version":3,"mappings":"AAmBA,OAAOA,YAAP,MAAyB,oBAAzB;AACA,eAAe;EACXC,IAAI,GAAG;IACH,OAAO;MACHC,EAAE,EAAE,KAAKC,MAAL,CAAYC,MAAZ,CAAmBF,EADpB;MAEHG,QAAQ,EAAE;IAFP,CAAP;EAIH,CANU;;EAOXC,QAAQ,EAAE;IACNC,IAAI,GAAG;MACH,OAAQ,KAAKC,MAAL,CAAYC,OAAZ,CAAoBC,WAApB,CAAgC,KAAKR,EAArC,CAAD,CAA2C,CAA3C,CAAP;IACH,CAHK;;IAINS,KAAK,GAAG;MACJ,OAAO,KAAKH,MAAL,CAAYI,KAAZ,CAAkBC,IAAlB,CAAuBF,KAA9B;IACH;;EANK,CAPC;;EAeXG,OAAO,GAAG;IACN,KAAKN,MAAL,CAAYO,QAAZ,CAAqB,mBAArB;IACA,KAAKP,MAAL,CAAYO,QAAZ,CAAqB,UAArB,EAAiC,KAAKJ,KAAtC;EACH,CAlBU;;EAmBXK,OAAO,EAAE;IACLC,UAAU,GAAG;MACT,KAAKZ,QAAL,GAAgB,CAAC,KAAKA,QAAtB;IACH,CAHI;;IAIL,MAAMa,UAAN,GAAmB;MACf,MAAMC,MAAK,GAAI,MAAM,KAAKX,MAAL,CAAYO,QAAZ,CAAqB,YAArB,EAAmC;QACpDb,EAAE,EAAE,KAAKA,EAD2C;QAEpDS,KAAK,EAAE,KAAKA;MAFwC,CAAnC,CAArB;MAIAS,OAAO,CAACC,GAAR,CAAYF,MAAZ;;MACA,IAAGA,MAAK,KAAM,GAAd,EAAmB;QACf,KAAKX,MAAL,CAAYO,QAAZ,CAAqB,YAArB,EAAmC,2BAAnC;QACA,KAAKO,OAAL,CAAaC,IAAb,CAAkB;UAAEC,IAAI,EAAE;QAAR,CAAlB;MACJ;IACJ;;EAdK,CAnBE;EAmCXC,UAAU,EAAE;IAAEzB;EAAF;AAnCD,CAAf","names":["EditBlogView","data","id","$route","params","editMode","computed","blog","$store","getters","getBlogById","token","state","user","created","dispatch","methods","toggleEdit","deleteBlog","status","console","log","$router","push","name","components"],"sourceRoot":"","sources":["/Users/ahmed/Documents/projects/vulnerable_node_app/frontend/src/views/blog/BlogDetailView.vue"],"sourcesContent":["<template>\n    <div v-if=\"blog\" class=\"detailView\">\n        <div v-if=\"!editMode\">\n            <div class=\"buttons\">\n                <button class=\"button button-edit\" @click=\"toggleEdit\">edit</button>\n                <button class=\"button button-delete\" @click=\"deleteBlog\">delete</button>\n            </div>\n            <div class=\"blog\">\n                <h3 class=\"blog-heading\">{{ blog.title }}</h3>\n                <p>{{ blog.body }}</p>\n            </div>\n        </div>\n        <div v-else>\n            <EditBlogView :blog=\"blog\" @toggle=\"toggleEdit\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport EditBlogView from './EditBlogView.vue'\nexport default {\n    data() {\n        return {\n            id: this.$route.params.id,\n            editMode: false\n        };\n    },\n    computed: {\n        blog() {\n            return (this.$store.getters.getBlogById(this.id))[0];\n        },\n        token() {\n            return this.$store.state.user.token;\n        },\n    },\n    created() {\n        this.$store.dispatch(\"checkLocalStorage\");\n        this.$store.dispatch(\"getBlogs\", this.token);\n    },\n    methods: {\n        toggleEdit() {\n            this.editMode = !this.editMode;\n        },\n        async deleteBlog() {\n            const status = await this.$store.dispatch('deleteBlog', {\n                id: this.id,\n                token: this.token\n            })\n            console.log(status)\n            if(status === 200) {\n                this.$store.dispatch('setMessage', 'Blog deleted successfully')\n                this.$router.push({ name: 'home' })\n            }\n        }\n    },\n    components: { EditBlogView }\n}\n</script>\n\n<style>\n.detailView {\n    width: 70vw;\n    margin: 5px auto;\n}\n.blog {\n    border: 1px solid black;\n}\n.blog-heading {\n    background: #000;\n    padding: 5px;\n    color: #fff;\n}\n.buttons {\n    text-align: right;\n}\n.button {\n    padding: 10px 15px;\n    border: none;\n    color: #fff;\n    border-radius: 10px;\n    margin: 0.3rem;\n}\n.button-edit {\n    background: blue;\n}\n.button-delete {\n    background: red;\n}\n</style>"]},"metadata":{},"sourceType":"module"}