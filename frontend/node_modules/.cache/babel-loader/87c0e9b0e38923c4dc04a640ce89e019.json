{"ast":null,"code":"export default {\n  data() {\n    return {\n      email: window.localStorage.getItem('email'),\n      token: 0\n    };\n  },\n\n  methods: {\n    checkToken() {\n      const storedToken = this.$store.getters('getTokenByEmail', this.email);\n      const changeId = this.generateChangeId();\n\n      if (storedToken === this.token) {\n        this.$router.push({\n          name: 'change-password',\n          params: {\n            id: changeId\n          }\n        });\n      }\n    },\n\n    generateChangeId() {\n      const changeId = Math.floor(100000000 + Math.random() * 900000000);\n      const check = this.$store.dispatch('storeChangeId', {\n        email: this.email,\n        changeId: changeId\n      });\n\n      if (!check) {\n        return this.generateChangeId();\n      }\n\n      return changeId;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAcA,eAAe;EACXA,IAAI,GAAG;IACH,OAAO;MACHC,KAAK,EAAEC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CADJ;MAEHC,KAAK,EAAE;IAFJ,CAAP;EAIH,CANU;;EAOXC,OAAO,EAAE;IACLC,UAAU,GAAG;MACT,MAAMC,WAAU,GAAI,KAAKC,MAAL,CAAYC,OAAZ,CAAoB,iBAApB,EAAuC,KAAKT,KAA5C,CAApB;MACA,MAAMU,QAAO,GAAI,KAAKC,gBAAL,EAAjB;;MAEA,IAAGJ,WAAU,KAAM,KAAKH,KAAxB,EAA+B;QAC3B,KAAKQ,OAAL,CAAaC,IAAb,CAAkB;UAAEC,IAAI,EAAE,iBAAR;UAA2BC,MAAM,EAAE;YAAEC,EAAE,EAAEN;UAAN;QAAnC,CAAlB;MACJ;IACH,CARI;;IASLC,gBAAgB,GAAG;MACf,MAAMD,QAAO,GAAIO,IAAI,CAACC,KAAL,CAAW,YAAYD,IAAI,CAACE,MAAL,KAAgB,SAAvC,CAAjB;MACA,MAAMC,KAAI,GAAI,KAAKZ,MAAL,CAAYa,QAAZ,CAAqB,eAArB,EAAsC;QAChDrB,KAAK,EAAE,KAAKA,KADoC;QAEhDU,QAAQ,EAAEA;MAFsC,CAAtC,CAAd;;MAKA,IAAG,CAACU,KAAJ,EAAW;QACP,OAAO,KAAKT,gBAAL,EAAP;MACJ;;MAEA,OAAOD,QAAP;IACJ;;EArBK;AAPE,CAAf","names":["data","email","window","localStorage","getItem","token","methods","checkToken","storedToken","$store","getters","changeId","generateChangeId","$router","push","name","params","id","Math","floor","random","check","dispatch"],"sourceRoot":"","sources":["/Users/ahmed/Documents/projects/vulnerable_node_app/frontend/src/views/password/TokenPasswordView.vue"],"sourcesContent":["<template>\n    <form @submit.prevent=\"checkToken\">\n        <h2>Input token</h2>\n        <div class=\"field\">\n            <input v-model=\"token\" class=\"field-input\" type=\"text\" name=\"token\" autocomplete=\"off\" required>\n            <label class=\"field-label\" for=\"token\">token</label>\n        </div>\n        <div class=\"field\">\n            <input class=\"field-submit\" type=\"submit\" value=\"submit\" />\n        </div>\n    </form>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            email: window.localStorage.getItem('email'),\n            token: 0\n        }\n    },\n    methods: {\n        checkToken() {\n            const storedToken = this.$store.getters('getTokenByEmail', this.email)\n            const changeId = this.generateChangeId()\n\n            if(storedToken === this.token) {\n                this.$router.push({ name: 'change-password', params: { id: changeId } })\n            }\n        },\n        generateChangeId() {\n            const changeId = Math.floor(100000000 + Math.random() * 900000000);\n            const check = this.$store.dispatch('storeChangeId', {\n                email: this.email,\n                changeId: changeId\n            })\n\n            if(!check) {\n                return this.generateChangeId()\n            }\n\n            return changeId\n        }\n    }\n}\n</script>\n\n<style>\n    form {\n        margin: 3rem auto;\n        height: 40vh;\n        width: 100%;\n        max-width: 500px;\n    }\n    .field {\n        display: flex;\n        flex-direction: column-reverse;\n        padding: 0.5rem 0;\n    }\n    .field .field-input {\n        padding: 0.5rem;\n    }\n    .field .field-submit {\n        padding: 0.75rem 0.5rem;\n        border: none;\n        border-radius: 10px;\n        background: #68bbe3;\n        color: white;\n    }\n    .field .field-submit:active {\n        background: #0e86d4;\n        transform: scale(1.1);\n    }\n    .field-error {\n        color: red;\n        text-align: center;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}