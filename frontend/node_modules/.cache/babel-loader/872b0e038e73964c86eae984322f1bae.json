{"ast":null,"code":"export default {\n  data() {\n    return {\n      password: ''\n    };\n  },\n\n  computed: {\n    changeId() {\n      return this.$route.params.id;\n    },\n\n    validEmail() {\n      return this.$store.getters.getEmailByChangeId(this.changeId);\n    }\n\n  },\n  methods: {\n    async updatePassword() {\n      const check = await this.$store.dispatch('changePasswordRequest', {\n        email: this.validEmail,\n        password: this.password\n      });\n\n      if (check) {\n        this.$router.push({\n          name: 'login'\n        });\n        this.$store.dispatch('setMessage', 'Password changed successfully');\n      } else {\n        this.$store.dispatch('setErrorMessage', 'Password change request failed');\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqBA,eAAe;EACXA,IAAI,GAAG;IACH,OAAO;MACHC,QAAQ,EAAE;IADP,CAAP;EAGH,CALU;;EAMXC,QAAQ,EAAE;IACNC,QAAQ,GAAG;MACP,OAAO,KAAKC,MAAL,CAAYC,MAAZ,CAAmBC,EAA1B;IACH,CAHK;;IAINC,UAAU,GAAG;MACT,OAAO,KAAKC,MAAL,CAAYC,OAAZ,CAAoBC,kBAApB,CAAuC,KAAKP,QAA5C,CAAP;IACJ;;EANM,CANC;EAcXQ,OAAO,EAAE;IACL,MAAMC,cAAN,GAAuB;MACnB,MAAMC,KAAI,GAAI,MAAM,KAAKL,MAAL,CAAYM,QAAZ,CAAqB,uBAArB,EAA8C;QAAEC,KAAK,EAAE,KAAKR,UAAd;QAA0BN,QAAQ,EAAE,KAAKA;MAAzC,CAA9C,CAApB;;MACA,IAAGY,KAAH,EAAU;QACN,KAAKG,OAAL,CAAaC,IAAb,CAAkB;UAAEC,IAAI,EAAE;QAAR,CAAlB;QACA,KAAKV,MAAL,CAAYM,QAAZ,CAAqB,YAArB,EAAmC,+BAAnC;MACJ,CAHA,MAGO;QACH,KAAKN,MAAL,CAAYM,QAAZ,CAAqB,iBAArB,EAAwC,gCAAxC;MACJ;IACJ;;EATK;AAdE,CAAf","names":["data","password","computed","changeId","$route","params","id","validEmail","$store","getters","getEmailByChangeId","methods","updatePassword","check","dispatch","email","$router","push","name"],"sourceRoot":"","sources":["/Users/ahmed/Documents/projects/vulnerable_node_app/frontend/src/views/password/ChangePasswordView.vue"],"sourcesContent":["<template>\n    <form @submit.prevent=\"updatePassword\" v-if=\"1\">\n        <h2>Reset password</h2>\n        <div class=\"field\">\n            <input v-model=\"validEmail\" class=\"field-input\" type=\"email\" name=\"email\" autocomplete=\"off\" disabled>\n            <label class=\"field-label\" for=\"email\">Email</label>\n        </div>\n        <div class=\"field\">\n            <input v-model=\"password\" class=\"field-input\" type=\"password\" name=\"password\" autocomplete=\"off\">\n            <label class=\"field-label\" for=\"password\">New Password</label>\n        </div>\n        <div class=\"field\">\n            <input class=\"field-submit\" type=\"submit\" value=\"Submit\" />\n        </div>\n    </form>\n    <div class=\"field\" v-else>\n        Email is missing\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            password: ''\n        }\n    },\n    computed: {\n        changeId() {\n            return this.$route.params.id\n        },\n        validEmail() {\n            return this.$store.getters.getEmailByChangeId(this.changeId)\n        }\n    },\n    methods: {\n        async updatePassword() {\n            const check = await this.$store.dispatch('changePasswordRequest', { email: this.validEmail, password: this.password })\n            if(check) {\n                this.$router.push({ name: 'login' })\n                this.$store.dispatch('setMessage', 'Password changed successfully')\n            } else {\n                this.$store.dispatch('setErrorMessage', 'Password change request failed')\n            }\n        }\n    }\n}\n</script>\n\n<style>\n    form {\n        margin: 3rem auto;\n        height: 40vh;\n        width: 100%;\n        max-width: 500px;\n    }\n    .field {\n        display: flex;\n        flex-direction: column-reverse;\n        padding: 0.5rem 0;\n    }\n    .field .field-input {\n        padding: 0.5rem;\n    }\n    .field .field-submit {\n        padding: 0.75rem 0.5rem;\n        border: none;\n        border-radius: 10px;\n        background: #68bbe3;\n        color: white;\n    }\n    .field .field-submit:active {\n        background: #0e86d4;\n        transform: scale(1.1);\n    }\n    .field-error {\n        color: red;\n        text-align: center;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}