{"ast":null,"code":"import EditBlogView from \"./EditBlogView.vue\";\nexport default {\n  data() {\n    return {\n      id: this.$route.params.id,\n      editMode: false,\n      toggleComment: false\n    };\n  },\n\n  computed: {\n    blog() {\n      return this.$store.getters.getBlogById(this.id)[0];\n    },\n\n    token() {\n      return this.$store.state.user.token;\n    },\n\n    user() {\n      return this.$store.state.user.user;\n    }\n\n  },\n\n  created() {\n    this.$store.dispatch(\"checkLocalStorage\");\n    this.$store.dispatch(\"getBlogs\", this.token);\n  },\n\n  methods: {\n    toggleEdit() {\n      this.editMode = !this.editMode;\n    },\n\n    async callDelete() {\n      const status = await this.$store.dispatch(\"deleteBlog\", {\n        id: this.id,\n        token: this.token\n      });\n      console.log(status);\n\n      if (status === 200) {\n        this.$store.dispatch(\"setMessage\", \"Blog deleted successfully\");\n        this.$router.push({\n          name: \"home\"\n        });\n      }\n    }\n\n  },\n  components: {\n    EditBlogView\n  }\n};","map":{"version":3,"mappings":"AA6BA,OAAOA,YAAP,MAAyB,oBAAzB;AACA,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,EAAE,EAAE,KAAKC,MAAL,CAAYC,MAAZ,CAAmBF,EADlB;MAELG,QAAQ,EAAE,KAFL;MAGLC,aAAa,EAAE;IAHV,CAAP;EAKD,CAPY;;EAQbC,QAAQ,EAAE;IACRC,IAAI,GAAG;MACL,OAAO,KAAKC,MAAL,CAAYC,OAAZ,CAAoBC,WAApB,CAAgC,KAAKT,EAArC,EAAyC,CAAzC,CAAP;IACD,CAHO;;IAIRU,KAAK,GAAG;MACN,OAAO,KAAKH,MAAL,CAAYI,KAAZ,CAAkBC,IAAlB,CAAuBF,KAA9B;IACD,CANO;;IAORE,IAAI,GAAG;MACL,OAAO,KAAKL,MAAL,CAAYI,KAAZ,CAAkBC,IAAlB,CAAuBA,IAA9B;IACD;;EATO,CARG;;EAmBbC,OAAO,GAAG;IACR,KAAKN,MAAL,CAAYO,QAAZ,CAAqB,mBAArB;IACA,KAAKP,MAAL,CAAYO,QAAZ,CAAqB,UAArB,EAAiC,KAAKJ,KAAtC;EACD,CAtBY;;EAuBbK,OAAO,EAAE;IACPC,UAAU,GAAG;MACX,KAAKb,QAAL,GAAgB,CAAC,KAAKA,QAAtB;IACD,CAHM;;IAIP,MAAMc,UAAN,GAAmB;MACjB,MAAMC,MAAK,GAAI,MAAM,KAAKX,MAAL,CAAYO,QAAZ,CAAqB,YAArB,EAAmC;QACtDd,EAAE,EAAE,KAAKA,EAD6C;QAEtDU,KAAK,EAAE,KAAKA;MAF0C,CAAnC,CAArB;MAIAS,OAAO,CAACC,GAAR,CAAYF,MAAZ;;MACA,IAAIA,MAAK,KAAM,GAAf,EAAoB;QAClB,KAAKX,MAAL,CAAYO,QAAZ,CAAqB,YAArB,EAAmC,2BAAnC;QACA,KAAKO,OAAL,CAAaC,IAAb,CAAkB;UAAEC,IAAI,EAAE;QAAR,CAAlB;MACF;IACD;;EAdM,CAvBI;EAuCbC,UAAU,EAAE;IAAE1B;EAAF;AAvCC,CAAf","names":["EditBlogView","data","id","$route","params","editMode","toggleComment","computed","blog","$store","getters","getBlogById","token","state","user","created","dispatch","methods","toggleEdit","callDelete","status","console","log","$router","push","name","components"],"sourceRoot":"","sources":["/Users/ahmed/Documents/projects/vulnerable_laravel_app/frontend/src/views/blog/ShowBlogView.vue"],"sourcesContent":["<template>\n  <main v-if=\"blog\" class=\"detailView\">\n    <section v-if=\"!editMode\">\n      <div class=\"flex justify-end\">\n        <button class=\"btn btn-primary\" @click=\"toggleEdit\">edit</button>\n        <button class=\"btn btn-delete\" @click=\"callDelete\">delete</button>\n      </div>\n      <div class=\"card\">\n        <h1 class=\"bold font-heading\">{{ blog.title }}</h1>\n        <p>{{ blog.body }}</p>\n      </div>\n    </section>\n    <section v-else>\n      <EditBlogView :blog=\"blog\" @toggle=\"toggleEdit\" />\n    </section>\n    <section class=\"my-2\">\n      <div class=\"flex justify-end\">\n        <button class=\"btn btn-primary\">Add comment</button>\n      </div>\n      <h1 class=\"bold font-heading\">Comments</h1>\n      <div class=\"card\">\n        <h2 class=\"bold font-subheading\">Author</h2>\n        <p>{{ blog.body }}</p>\n      </div>\n    </section>\n  </main>\n</template>\n\n<script>\nimport EditBlogView from \"./EditBlogView.vue\";\nexport default {\n  data() {\n    return {\n      id: this.$route.params.id,\n      editMode: false,\n      toggleComment: false,\n    };\n  },\n  computed: {\n    blog() {\n      return this.$store.getters.getBlogById(this.id)[0];\n    },\n    token() {\n      return this.$store.state.user.token;\n    },\n    user() {\n      return this.$store.state.user.user;\n    },\n  },\n  created() {\n    this.$store.dispatch(\"checkLocalStorage\");\n    this.$store.dispatch(\"getBlogs\", this.token);\n  },\n  methods: {\n    toggleEdit() {\n      this.editMode = !this.editMode;\n    },\n    async callDelete() {\n      const status = await this.$store.dispatch(\"deleteBlog\", {\n        id: this.id,\n        token: this.token,\n      });\n      console.log(status);\n      if (status === 200) {\n        this.$store.dispatch(\"setMessage\", \"Blog deleted successfully\");\n        this.$router.push({ name: \"home\" });\n      }\n    },\n  },\n  components: { EditBlogView },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}