{"ast":null,"code":"import CreateView from \"@/views/comments/CreateView.vue\";\nimport EditBlogView from \"./EditBlogView.vue\";\nexport default {\n  data() {\n    return {\n      id: this.$route.params.id,\n      editMode: false,\n      commentMode: false,\n      commentButton: \"Add Comment\"\n    };\n  },\n\n  computed: {\n    blog() {\n      return this.$store.getters.getBlogById(this.id)[0];\n    },\n\n    token() {\n      return this.$store.state.user.token;\n    },\n\n    user() {\n      return this.$store.state.user.user;\n    }\n\n  },\n\n  created() {\n    this.$store.dispatch(\"checkLocalStorage\");\n    this.$store.dispatch(\"getBlogs\", this.token);\n  },\n\n  methods: {\n    toggleEdit() {\n      this.editMode = !this.editMode;\n    },\n\n    toggleComment() {\n      this.commentMode = !this.commentMode;\n      this.commentButton = this.commentMode ? \"Cancel\" : \"Add Comment\";\n    },\n\n    async callDelete() {\n      const status = await this.$store.dispatch(\"deleteBlog\", {\n        id: this.id,\n        token: this.token\n      });\n      console.log(status);\n\n      if (status === 200) {\n        this.$store.dispatch(\"setMessage\", \"Blog deleted successfully\");\n        this.$router.push({\n          name: \"home\"\n        });\n      }\n    }\n\n  },\n  components: {\n    CreateView,\n    EditBlogView\n  }\n};","map":{"version":3,"mappings":"AAkCA,OAAOA,UAAP,MAAuB,iCAAvB;AACA,OAAOC,YAAP,MAAyB,oBAAzB;AACA,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,EAAE,EAAE,KAAKC,MAAL,CAAYC,MAAZ,CAAmBF,EADlB;MAELG,QAAQ,EAAE,KAFL;MAGLC,WAAW,EAAE,KAHR;MAILC,aAAa,EAAE;IAJV,CAAP;EAMD,CARY;;EASbC,QAAQ,EAAE;IACRC,IAAI,GAAG;MACL,OAAO,KAAKC,MAAL,CAAYC,OAAZ,CAAoBC,WAApB,CAAgC,KAAKV,EAArC,EAAyC,CAAzC,CAAP;IACD,CAHO;;IAIRW,KAAK,GAAG;MACN,OAAO,KAAKH,MAAL,CAAYI,KAAZ,CAAkBC,IAAlB,CAAuBF,KAA9B;IACD,CANO;;IAORE,IAAI,GAAG;MACL,OAAO,KAAKL,MAAL,CAAYI,KAAZ,CAAkBC,IAAlB,CAAuBA,IAA9B;IACD;;EATO,CATG;;EAoBbC,OAAO,GAAG;IACR,KAAKN,MAAL,CAAYO,QAAZ,CAAqB,mBAArB;IACA,KAAKP,MAAL,CAAYO,QAAZ,CAAqB,UAArB,EAAiC,KAAKJ,KAAtC;EACD,CAvBY;;EAwBbK,OAAO,EAAE;IACPC,UAAU,GAAG;MACX,KAAKd,QAAL,GAAgB,CAAC,KAAKA,QAAtB;IACD,CAHM;;IAIPe,aAAa,GAAG;MACd,KAAKd,WAAL,GAAmB,CAAC,KAAKA,WAAzB;MACA,KAAKC,aAAL,GAAqB,KAAKD,WAAL,GAAmB,QAAnB,GAA8B,aAAnD;IACD,CAPM;;IAQP,MAAMe,UAAN,GAAmB;MACjB,MAAMC,MAAK,GAAI,MAAM,KAAKZ,MAAL,CAAYO,QAAZ,CAAqB,YAArB,EAAmC;QACtDf,EAAE,EAAE,KAAKA,EAD6C;QAEtDW,KAAK,EAAE,KAAKA;MAF0C,CAAnC,CAArB;MAIAU,OAAO,CAACC,GAAR,CAAYF,MAAZ;;MACA,IAAIA,MAAK,KAAM,GAAf,EAAoB;QAClB,KAAKZ,MAAL,CAAYO,QAAZ,CAAqB,YAArB,EAAmC,2BAAnC;QACA,KAAKQ,OAAL,CAAaC,IAAb,CAAkB;UAAEC,IAAI,EAAE;QAAR,CAAlB;MACF;IACD;;EAlBM,CAxBI;EA4CbC,UAAU,EAAE;IAAE7B,UAAF;IAAcC;EAAd;AA5CC,CAAf","names":["CreateView","EditBlogView","data","id","$route","params","editMode","commentMode","commentButton","computed","blog","$store","getters","getBlogById","token","state","user","created","dispatch","methods","toggleEdit","toggleComment","callDelete","status","console","log","$router","push","name","components"],"sourceRoot":"","sources":["/Users/ahmed/Documents/projects/vulnerable_laravel_app/frontend/src/views/blog/ShowBlogView.vue"],"sourcesContent":["<template>\n  <main v-if=\"blog\" class=\"detailView\">\n    <section v-if=\"!editMode\">\n      <div class=\"flex justify-end\">\n        <button class=\"btn btn-primary\" @click=\"toggleEdit\">edit</button>\n        <button class=\"btn btn-danger\" @click=\"callDelete\">delete</button>\n      </div>\n      <div class=\"card\">\n        <h1 class=\"bold font-heading\">{{ blog.title }}</h1>\n        <p>{{ blog.body }}</p>\n      </div>\n    </section>\n    <section v-else>\n      <EditBlogView :blog=\"blog\" @toggle=\"toggleEdit\" />\n    </section>\n    <section class=\"my-2\">\n      <div class=\"flex justify-end\">\n        <button\n          class=\"btn\"\n          :class=\"commentMode ? 'btn-danger' : 'btn-primary'\"\n          @click=\"toggleComment\">\n          {{ commentButton }}\n        </button>\n      </div>\n      <h1 class=\"bold font-heading\">Comments</h1>\n      <div class=\"card\">\n        <h2 class=\"bold font-subheading\">Author</h2>\n        <p>{{ blog.body }}</p>\n      </div>\n    </section>\n  </main>\n</template>\n\n<script>\nimport CreateView from \"@/views/comments/CreateView.vue\";\nimport EditBlogView from \"./EditBlogView.vue\";\nexport default {\n  data() {\n    return {\n      id: this.$route.params.id,\n      editMode: false,\n      commentMode: false,\n      commentButton: \"Add Comment\",\n    };\n  },\n  computed: {\n    blog() {\n      return this.$store.getters.getBlogById(this.id)[0];\n    },\n    token() {\n      return this.$store.state.user.token;\n    },\n    user() {\n      return this.$store.state.user.user;\n    },\n  },\n  created() {\n    this.$store.dispatch(\"checkLocalStorage\");\n    this.$store.dispatch(\"getBlogs\", this.token);\n  },\n  methods: {\n    toggleEdit() {\n      this.editMode = !this.editMode;\n    },\n    toggleComment() {\n      this.commentMode = !this.commentMode;\n      this.commentButton = this.commentMode ? \"Cancel\" : \"Add Comment\";\n    },\n    async callDelete() {\n      const status = await this.$store.dispatch(\"deleteBlog\", {\n        id: this.id,\n        token: this.token,\n      });\n      console.log(status);\n      if (status === 200) {\n        this.$store.dispatch(\"setMessage\", \"Blog deleted successfully\");\n        this.$router.push({ name: \"home\" });\n      }\n    },\n  },\n  components: { CreateView, EditBlogView },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}