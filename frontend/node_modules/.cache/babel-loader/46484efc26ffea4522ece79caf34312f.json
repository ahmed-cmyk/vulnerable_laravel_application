{"ast":null,"code":"import blogs from \"@/logic/blog\";\nexport default {\n  namespace: true,\n  state: () => ({\n    blogs: []\n  }),\n  mutations: {\n    setBlogs(state, data) {\n      state.blogs = data;\n    },\n\n    createBlog(state, data) {\n      state.blogs.push(data);\n    },\n\n    updateBlog(state, updatedBlog) {\n      const index = state.blogs.findIndex(blog => blog._id === updatedBlog._id);\n      state.blogs[index] = updatedBlog;\n    },\n\n    deleteBlog(state, id) {\n      const index = state.blogs.findIndex(blog => blog._id === id);\n      state.blogs.splice(index, 1);\n    }\n\n  },\n  actions: {\n    async getBlogs(context, token) {\n      const res = await blogs.get(token);\n\n      if (res.status === 200) {\n        const blogs = res.data;\n        context.commit('setBlogs', blogs);\n      }\n    },\n\n    async createBlog(context, data) {\n      const {\n        body,\n        token\n      } = data;\n      const res = await blogs.create(body, token);\n\n      if (res.status === 201) {\n        context.commit('createBlog', res.data);\n      }\n\n      return res;\n    },\n\n    async updateBlog(context, data) {\n      const {\n        body,\n        token\n      } = data;\n      const res = await blogs.update(body.id, body, token);\n\n      if (res.status === 200) {\n        context.commit('updateBlog', body);\n      }\n\n      return res.status;\n    },\n\n    async deleteBlog(context, data) {\n      const {\n        id,\n        token\n      } = data;\n      const res = await blogs.delete(id, token);\n\n      if (res.status === 200) {\n        context.commit('deleteBlog', id);\n      }\n\n      return res.status;\n    }\n\n  },\n  getters: {\n    getBlogById: state => id => {\n      const blog = state.blogs.filter(blog => blog._id === id);\n      console.log('blogModule', blog);\n      return blog;\n    }\n  }\n};","map":{"version":3,"names":["blogs","namespace","state","mutations","setBlogs","data","createBlog","push","updateBlog","updatedBlog","index","findIndex","blog","_id","deleteBlog","id","splice","actions","getBlogs","context","token","res","get","status","commit","body","create","update","delete","getters","getBlogById","filter","console","log"],"sources":["/Users/ahmed/Documents/projects/vulnerable_node_app/frontend/src/modules/blogs.js"],"sourcesContent":["import blogs from \"@/logic/blog\"\n\nexport default {\n    namespace: true,\n    state: () => ({ blogs: [] }),\n    mutations: {\n        setBlogs(state, data) { \n            state.blogs = data \n        },\n        createBlog(state, data) { \n            state.blogs.push(data) \n        },\n        updateBlog(state, updatedBlog) {\n            const index = state.blogs.findIndex(blog => blog._id === updatedBlog._id)\n            state.blogs[index] = updatedBlog\n        },\n        deleteBlog(state, id) { \n            const index = state.blogs.findIndex(blog => blog._id === id)\n            state.blogs.splice(index, 1)\n        }\n    },\n    actions: {\n        async getBlogs(context, token) {\n            const res = await blogs.get(token)\n\n            if(res.status === 200) {\n                const blogs = res.data\n                context.commit('setBlogs', blogs)\n            }\n        },\n        async createBlog(context, data) {\n            const { body, token } = data\n            const res = await blogs.create(body, token)\n\n            if(res.status === 201) {\n                context.commit('createBlog', res.data)\n            }\n\n            return res\n        },\n        async updateBlog(context, data) {\n            const { body, token } = data\n            const res = await blogs.update(body.id, body, token)\n\n            if(res.status === 200) {\n                context.commit('updateBlog', body)\n            }\n\n            return res.status\n        },\n        async deleteBlog(context, data) {\n            const { id, token } = data\n            const res = await blogs.delete(id, token)\n\n            if(res.status === 200) {\n                context.commit('deleteBlog', id)\n            }\n\n            return res.status\n        }\n    },\n    getters: {\n        getBlogById: (state) => (id) => {\n            const blog = state.blogs.filter(blog => blog._id === id)\n            console.log('blogModule', blog)\n            return blog\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}