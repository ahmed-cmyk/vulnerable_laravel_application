{"ast":null,"code":"import blogs from \"@/logic/blog\";\nexport default {\n  namespace: true,\n  state: () => ({\n    blogs: []\n  }),\n  mutations: {\n    setBlogs(state, data) {\n      state.blogs = data;\n    },\n\n    createBlog(state, data) {\n      state.blogs.push(data);\n    },\n\n    updateBlog(state, updatedBlog) {\n      const index = state.blogs.findIndex(blog => blog._id === updatedBlog._id);\n      state.blogs[index] = updatedBlog;\n    },\n\n    deleteBlog(state, id) {\n      const index = state.blogs.findIndex(blog => blog._id === id);\n      state.blogs.splice(index, 1);\n    }\n\n  },\n  actions: {\n    async getBlogs(context, token) {\n      const res = await blogs.get(token);\n\n      if (res && res.status === 200) {\n        const blogs = res.data.blogs;\n        context.commit(\"setBlogs\", blogs);\n      }\n    },\n\n    async createBlog(context, data) {\n      const {\n        body,\n        token\n      } = data;\n      const res = await blogs.create(body, token);\n\n      if (res.status === 201) {\n        context.commit(\"createBlog\", res.data);\n      }\n\n      return res;\n    },\n\n    async updateBlog(context, data) {\n      const {\n        body,\n        token\n      } = data;\n      const res = await blogs.update(body.id, body, token);\n\n      if (res.status === 200) {\n        context.commit(\"updateBlog\", res.data);\n      }\n\n      return res.status;\n    },\n\n    async deleteBlog(context, data) {\n      const {\n        id,\n        token\n      } = data;\n      const res = await blogs.delete(id, token);\n\n      if (res.status === 200) {\n        context.commit(\"deleteBlog\", id);\n      }\n\n      return res.status;\n    }\n\n  },\n  getters: {\n    getBlogById: state => id => {\n      console.log(state.blogs);\n      const blog = state.blogs.filter(blog => blog.id === Number(id));\n      return blog;\n    },\n    getBlogs: state => {\n      return state.blogs;\n    }\n  }\n};","map":{"version":3,"names":["blogs","namespace","state","mutations","setBlogs","data","createBlog","push","updateBlog","updatedBlog","index","findIndex","blog","_id","deleteBlog","id","splice","actions","getBlogs","context","token","res","get","status","commit","body","create","update","delete","getters","getBlogById","console","log","filter","Number"],"sources":["/Users/ahmed/Documents/projects/vulnerable_laravel_app/frontend/src/modules/blogs.js"],"sourcesContent":["import blogs from \"@/logic/blog\";\n\nexport default {\n  namespace: true,\n  state: () => ({ blogs: [] }),\n  mutations: {\n    setBlogs(state, data) {\n      state.blogs = data;\n    },\n    createBlog(state, data) {\n      state.blogs.push(data);\n    },\n    updateBlog(state, updatedBlog) {\n      const index = state.blogs.findIndex(\n        (blog) => blog._id === updatedBlog._id\n      );\n      state.blogs[index] = updatedBlog;\n    },\n    deleteBlog(state, id) {\n      const index = state.blogs.findIndex((blog) => blog._id === id);\n      state.blogs.splice(index, 1);\n    },\n  },\n  actions: {\n    async getBlogs(context, token) {\n      const res = await blogs.get(token);\n\n      if (res && res.status === 200) {\n        const blogs = res.data.blogs;\n        context.commit(\"setBlogs\", blogs);\n      }\n    },\n    async createBlog(context, data) {\n      const { body, token } = data;\n      const res = await blogs.create(body, token);\n\n      if (res.status === 201) {\n        context.commit(\"createBlog\", res.data);\n      }\n\n      return res;\n    },\n    async updateBlog(context, data) {\n      const { body, token } = data;\n      const res = await blogs.update(body.id, body, token);\n\n      if (res.status === 200) {\n        context.commit(\"updateBlog\", res.data);\n      }\n\n      return res.status;\n    },\n    async deleteBlog(context, data) {\n      const { id, token } = data;\n      const res = await blogs.delete(id, token);\n\n      if (res.status === 200) {\n        context.commit(\"deleteBlog\", id);\n      }\n\n      return res.status;\n    },\n  },\n  getters: {\n    getBlogById: (state) => (id) => {\n      console.log(state.blogs);\n      const blog = state.blogs.filter((blog) => blog.id === Number(id));\n      return blog;\n    },\n    getBlogs: (state) => {\n      return state.blogs;\n    },\n  },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}